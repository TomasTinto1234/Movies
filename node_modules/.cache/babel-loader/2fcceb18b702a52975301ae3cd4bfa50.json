{"ast":null,"code":"import { GET_MOVIES, GET_MOVIE_DETAIL, ADD_MOVIE_FAVORITE, REMOVE_MOVIE_FAVORITE, CLEAR_MOVIES_DETAIL } from '../actions/index.js';\nconst initialState = {\n  moviesFavourites: [],\n  moviesLoaded: [],\n  movieDetail: {}\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case GET_MOVIES:\n      return { ...state,\n        moviesLoaded: payload.Search\n      };\n\n    case GET_MOVIE_DETAIL:\n      return { ...state,\n        movieDetail: payload\n      };\n\n    case ADD_MOVIE_FAVORITE:\n      {\n        if (state.moviesFavourites) {\n          if (state.moviesFavourites.find(movie => movie.id === payload.id)) return state;else return { ...state,\n            moviesFavourites: [...state.moviesFavourites, payload]\n          };\n        } else {\n          return { ...state,\n            moviesFavourites: [payload]\n          };\n        }\n      }\n\n    case REMOVE_MOVIE_FAVORITE:\n      {\n        if (state.moviesFavourites) {\n          return { ...state,\n            moviesFavourites: state.moviesFavourites.filter(movie => movie.id !== payload)\n          };\n        } else {\n          return state;\n        }\n      }\n\n    case CLEAR_MOVIES_DETAIL:\n      {\n        if (state.moviesFavourites) {\n          return { ...state,\n            moviesFavourites: state.moviesFavourites.filter(movie => movie.id !== payload)\n          };\n        } else {\n          return state;\n        }\n      }\n\n    default:\n      return state;\n  }\n}\n\n;\nexport default rootReducer;","map":{"version":3,"sources":["C:/Users/USER/Movies/src/reducers/index.js"],"names":["GET_MOVIES","GET_MOVIE_DETAIL","ADD_MOVIE_FAVORITE","REMOVE_MOVIE_FAVORITE","CLEAR_MOVIES_DETAIL","initialState","moviesFavourites","moviesLoaded","movieDetail","rootReducer","state","type","payload","Search","find","movie","id","filter"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,gBAArB,EAAuCC,kBAAvC,EAA2DC,qBAA3D,EAAkFC,mBAAlF,QAA6G,qBAA7G;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,gBAAgB,EAAE,EADD;AAEjBC,EAAAA,YAAY,EAAE,EAFG;AAGjBC,EAAAA,WAAW,EAAE;AAHI,CAArB;;AAMA,SAASC,WAAT,GAA2D;AAAA,MAAtCC,KAAsC,uEAA/BL,YAA+B;AAAA,MAAjB;AAACM,IAAAA,IAAD;AAAOC,IAAAA;AAAP,GAAiB;;AACvD,UAAQD,IAAR;AAEI,SAAKX,UAAL;AACI,aAAM,EACF,GAAGU,KADD;AAEFH,QAAAA,YAAY,EAAEK,OAAO,CAACC;AAFpB,OAAN;;AAKJ,SAAKZ,gBAAL;AACI,aAAM,EACF,GAAGS,KADD;AAEFF,QAAAA,WAAW,EAAEI;AAFX,OAAN;;AAKJ,SAAKV,kBAAL;AAAwB;AACpB,YAAGQ,KAAK,CAACJ,gBAAT,EAA0B;AACtB,cAAGI,KAAK,CAACJ,gBAAN,CAAuBQ,IAAvB,CAA4BC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaJ,OAAO,CAACI,EAA1D,CAAH,EACI,OAAON,KAAP,CADJ,KAEK,OAAO,EAAC,GAAGA,KAAJ;AAAWJ,YAAAA,gBAAgB,EAAE,CAAC,GAAGI,KAAK,CAACJ,gBAAV,EAA4BM,OAA5B;AAA7B,WAAP;AACR,SAJD,MAIO;AACF,iBAAM,EACH,GAAGF,KADA;AAEHJ,YAAAA,gBAAgB,EAAE,CAACM,OAAD;AAFf,WAAN;AAIJ;AACJ;;AAED,SAAKT,qBAAL;AAA2B;AACvB,YAAGO,KAAK,CAACJ,gBAAT,EAA0B;AACtB,iBAAO,EAAC,GAAGI,KAAJ;AAAWJ,YAAAA,gBAAgB,EAAEI,KAAK,CAACJ,gBAAN,CAAuBW,MAAvB,CAA8BF,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaJ,OAApD;AAA7B,WAAP;AACH,SAFD,MAEO;AACH,iBAAOF,KAAP;AACH;AACJ;;AAED,SAAKN,mBAAL;AAAyB;AACrB,YAAGM,KAAK,CAACJ,gBAAT,EAA0B;AACtB,iBAAO,EAAC,GAAGI,KAAJ;AAAWJ,YAAAA,gBAAgB,EAAEI,KAAK,CAACJ,gBAAN,CAAuBW,MAAvB,CAA8BF,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaJ,OAApD;AAA7B,WAAP;AACH,SAFD,MAEO;AACH,iBAAOF,KAAP;AACH;AACJ;;AAED;AACI,aAAOA,KAAP;AA5CR;AA+CH;;AAAA;AAED,eAAeD,WAAf","sourcesContent":["import { GET_MOVIES, GET_MOVIE_DETAIL, ADD_MOVIE_FAVORITE, REMOVE_MOVIE_FAVORITE, CLEAR_MOVIES_DETAIL } from '../actions/index.js';\r\n\r\nconst initialState = {\r\n    moviesFavourites: [],\r\n    moviesLoaded: [],\r\n    movieDetail: {}\r\n  };\r\n\r\nfunction rootReducer(state= initialState, {type, payload}) {    \r\n    switch (type) {\r\n\r\n        case GET_MOVIES:\r\n            return{\r\n                ...state,\r\n                moviesLoaded: payload.Search\r\n            }\r\n\r\n        case GET_MOVIE_DETAIL:\r\n            return{\r\n                ...state,\r\n                movieDetail: payload\r\n            }\r\n\r\n        case ADD_MOVIE_FAVORITE:{\r\n            if(state.moviesFavourites){\r\n                if(state.moviesFavourites.find(movie => movie.id === payload.id))\r\n                    return state\r\n                else return {...state, moviesFavourites: [...state.moviesFavourites, payload]}\r\n            } else {\r\n                 return{\r\n                    ...state,\r\n                    moviesFavourites: [payload]\r\n                }\r\n            }\r\n        }\r\n\r\n        case REMOVE_MOVIE_FAVORITE:{\r\n            if(state.moviesFavourites){\r\n                return {...state, moviesFavourites: state.moviesFavourites.filter(movie => movie.id !== payload)}\r\n            } else {\r\n                return state\r\n            }\r\n        }\r\n\r\n        case CLEAR_MOVIES_DETAIL:{\r\n            if(state.moviesFavourites){\r\n                return {...state, moviesFavourites: state.moviesFavourites.filter(movie => movie.id !== payload)}\r\n            } else {\r\n                return state\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n            \r\n    }\r\n};\r\n\r\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}